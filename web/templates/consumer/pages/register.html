<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>{{.Title}} - Landlords of Texas</title>
<meta content="Create your account to schedule tours and manage bookings with Landlords of Texas." name="description"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&amp;family=Source+Sans+3:wght@300;400;500;600&amp;family=IBM+Plex+Mono:wght@400;500&amp;display=swap" rel="stylesheet"/>
<link href="/static/css/design-tokens.css" rel="stylesheet"/>
<link href="/static/css/scout-utilities.css" rel="stylesheet"/>
<link href="/static/css/scout-layouts.css" rel="stylesheet"/>
<link href="/static/css/scout-components.css" rel="stylesheet"/>
<link href="/static/css/modals.css" rel="stylesheet"/>
<script src="https://www.google.com/recaptcha/api.js?render=YOUR_RECAPTCHA_SITE_KEY"></script>
<script src="/static/js/modals.js"></script>
</head>
<body class="scout-consumer-layout page-booking">
<svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg">
<symbol fill="none" id="icon-home" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24"><path d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" stroke-linecap="round" stroke-linejoin="round"></path></symbol>
<symbol fill="none" id="icon-user" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24"><path d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" stroke-linecap="round" stroke-linejoin="round"></path></symbol>
<symbol fill="none" id="icon-check" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24"><path d="m4.5 12.75 6 6 9-13.5" stroke-linecap="round" stroke-linejoin="round"></path></symbol>
<symbol fill="none" id="icon-envelope" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24"><path d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" stroke-linecap="round" stroke-linejoin="round"></path></symbol>
<symbol fill="none" id="icon-phone" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24"><path d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" stroke-linecap="round" stroke-linejoin="round"></path></symbol>
<symbol fill="none" id="icon-lock" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24"><path d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" stroke-linecap="round" stroke-linejoin="round"></path></symbol>
<symbol fill="none" id="icon-shield-check" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24"><path d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z" stroke-linecap="round" stroke-linejoin="round"></path></symbol>
</svg>
<!-- Header -->
<header class="header">
<nav class="nav">
<a class="logo" href="/">
<div class="logo-icon icon-gold"><svg class="icon-gold" height="32" width="32"><use href="#icon-home"></use></svg></div>
            Landlords of Texas
        </a>
<div class="nav-menu">
<a class="nav-link" href="/">Home</a>
<a class="nav-link" href="/properties">Properties</a>
<a class="nav-link" href="/about">About</a>
<a class="nav-link" href="/contact">Contact</a>
<a class="btn btn-secondary" href="/login">Login</a>
</div>
</nav>
</header>
<!-- Registration Wizard -->
<main class="booking-wizard">
<div class="container-narrow pt-8 pb-4">
<!-- Step Indicator -->
<div class="step-indicator">
<div class="step active" data-step="1">
<div class="step-circle">1</div>
<div class="step-label">
<div class="text-body-sm font-semibold">Personal Info</div>
</div>
</div>
<div class="step-line"></div>
<div class="step" data-step="2">
<div class="step-circle">2</div>
<div class="step-label">
<div class="text-body-sm font-semibold">Contact Details</div>
</div>
</div>
<div class="step-line"></div>
<div class="step" data-step="3">
<div class="step-circle">3</div>
<div class="step-label">
<div class="text-body-sm font-semibold">Account Security</div>
</div>
</div>
<div class="step-line"></div>
<div class="step" data-step="4">
<div class="step-circle">4</div>
<div class="step-label">
<div class="text-body-sm font-semibold">Confirmation</div>
</div>
</div>
</div>
<!-- Step 1: Personal Information -->
<div class="wizard-step active" id="step-1">
<div class="step-content">
<h1 class="text-heading-1 font-serif text-navy text-center mb-2">Create Your Account</h1>
<p class="text-body text-gray-600 text-center mb-6">Let's start with your basic information</p>
<form id="registration-form">
        <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
<div class="form-group">
<label class="form-label" for="first-name">First Name</label>
<input autocomplete="given-name" class="form-input" id="first-name" name="first_name" required="" type="text"/>
</div>
<div class="form-group">
<label class="form-label" for="last-name">Last Name</label>
<input autocomplete="family-name" class="form-input" id="last-name" name="last_name" required="" type="text"/>
</div>
<div class="form-group">
<label class="form-label" for="email">Email Address</label>
<input autocomplete="email" class="form-input" id="email" name="email" required="" type="email"/>
<div class="form-help-text">We'll use this for your login and notifications</div>
</div>
<div class="form-actions">
<button class="btn btn-primary btn-block" onclick="nextStep(2)" type="button">Continue</button>
</div>
</form>
</div>
</div>
<!-- Step 2: Contact Details -->
<div class="wizard-step" id="step-2">
<div class="step-content">
<h1 class="text-heading-1 font-serif text-navy text-center mb-2">Contact Information</h1>
<p class="text-body text-gray-600 text-center mb-6">How can we reach you?</p>
<div class="form-group">
<label class="form-label" for="phone">Phone Number</label>
<input autocomplete="tel" class="form-input" id="phone" name="phone" placeholder="(281) 555-0123" required="" type="tel"/>
<div class="form-help-text">For tour confirmations and important updates</div>
</div>
<div class="form-group">
<label class="form-label">Communication Preferences</label>
<div class="checkbox-group">
<label class="checkbox-label">
<input class="form-checkbox checkbox-label-input" name="sms_notifications" type="checkbox"/>
<span class="checkbox-label-label">SMS notifications for tour reminders</span>
</label>
<label class="checkbox-label">
<input checked="" class="form-checkbox checkbox-label-input" name="email_notifications" type="checkbox"/>
<span class="checkbox-label-label">Email updates about new properties</span>
</label>
<label class="checkbox-label">
<input class="form-checkbox checkbox-label-input" name="marketing_opt_in" type="checkbox"/>
<span class="checkbox-label-label">Receive exclusive offers and promotions</span>
</label>
</div>
</div>
<div class="form-actions">
<button class="btn btn-secondary" onclick="prevStep(1)" type="button">Back</button>
<button class="btn btn-primary" onclick="nextStep(3)" type="button">Continue</button>
</div>
</div>
</div>
<!-- Step 3: Account Security -->
<div class="wizard-step" id="step-3">
<div class="step-content">
<h1 class="text-heading-1 font-serif text-navy text-center mb-2">Secure Your Account</h1>
<p class="text-body text-gray-600 text-center mb-6">Create a strong password</p>
<div class="form-group">
<label class="form-label" for="password">Password</label>
<input autocomplete="new-password" class="form-input" id="password" minlength="8" name="password" required="" type="password"/>
<div class="form-help-text">At least 8 characters with letters and numbers</div>
</div>
<div class="form-group">
<label class="form-label" for="password-confirm">Confirm Password</label>
<input autocomplete="new-password" class="form-input" id="password-confirm" name="password_confirm" required="" type="password"/>
</div>
<div class="form-group">
<label class="checkbox-label">
<input class="form-checkbox checkbox-label-input" name="terms_consent" required="" type="checkbox"/>
<span class="checkbox-label-label">I agree to the <a class="checkbox-label-link" href="/terms" target="_blank">Terms of Service</a> and <a class="checkbox-label-link" href="/privacy" target="_blank">Privacy Policy</a></span>
</label>
</div>
<div class="form-actions">
<button class="btn btn-secondary" onclick="prevStep(2)" type="button">Back</button>
<button class="btn btn-primary" onclick="submitRegistration()" type="button">Create Account</button>
</div>
</div>
</div>
<!-- Step 4: Success Confirmation -->
<div class="wizard-step" id="step-4">
<div class="step-content text-center">
<div class="success-icon mb-4">
<svg class="text-success mx-auto" height="64" width="64"><use href="#icon-check"></use></svg>
</div>
<h1 class="text-heading-1 font-serif text-navy mb-2">Welcome to Landlords of Texas!</h1>
<p class="text-body text-gray-600 mb-6">Your account has been created successfully. You can now schedule tours and manage your bookings.</p>
<div class="form-actions">
<a class="btn btn-primary" href="/properties">Browse Properties</a>
<a class="btn btn-secondary" href="/book-showing">Schedule a Tour</a>
</div>
</div>
</div>
</div>
</main>
<!-- TREC Footer -->
<footer class="trec-footer">
<div class="trec-content">
<p class="trec-content-text">Landlords of Texas, LLC • License # 9008008 • (281) 925-7222</p>
<p class="trec-content-text">Terry Evans - Principal Broker #615707</p>
<p class="trec-content-text">
<a class="trec-link trec-content-link" href="https://content.harstatic.com/pdf/TREC_CPN.pdf" rel="noopener" target="_blank">TREC Consumer Protection Notice</a> • 
            <a class="trec-content-link" href="https://members.har.com/mhf/terms/dispBrokerInfo.cfm?sitetype=aws&amp;cid=625244" rel="noopener" target="_blank">Information About Brokerage Services</a>
</p>
<p class="text-center text-gray-600 trec-content-text">
<a class="trec-content-link" href="/terms">Terms of Service</a> • 
            <a class="trec-content-link" href="/privacy">Privacy Policy</a> • 
            <a class="trec-content-link" href="javascript:revokeCookieConsent()">Cookie Preferences</a> • 
            <a class="trec-content-link" href="/contact">Contact</a> • 
            <a class="trec-content-link" href="/admin">Admin Login</a>
</p>
<p class="text-center text-gray-600 trec-content-text">
<img alt="Equal Housing Opportunity" class="equal-housing-logo trec-content-image" src="/static/images/equal-housing-logo.png"/>Equal Housing Opportunity • All information deemed reliable but not guaranteed.
        </p>
</div>
</footer>
<script>
// Registration wizard state
let currentStep = 1;
const formData = {};

// Step navigation
function nextStep(step) {
    // Validate current step
    if (!validateStep(currentStep)) {
        return;
    }
    
    // Save current step data
    saveStepData(currentStep);
    
    // Hide current step
    document.querySelector(`#step-${currentStep}`).classList.remove('active');
    document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
    document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('completed');
    
    // Show next step
    currentStep = step;
    document.querySelector(`#step-${step}`).classList.add('active');
    document.querySelector(`.step[data-step="${step}"]`).classList.add('active');
    
    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

function prevStep(step) {
    // Hide current step
    document.querySelector(`#step-${currentStep}`).classList.remove('active');
    document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
    
    // Show previous step
    currentStep = step;
    document.querySelector(`#step-${step}`).classList.add('active');
    document.querySelector(`.step[data-step="${step}"]`).classList.add('active');
    document.querySelector(`.step[data-step="${step}"]`).classList.remove('completed');
    
    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

function validateStep(step) {
    const stepElement = document.querySelector(`#step-${step}`);
    const inputs = stepElement.querySelectorAll('input[required]');
    
    for (let input of inputs) {
        if (!input.value.trim()) {
            input.focus();
            showToast('Please fill in all required fields', 'error');
            return false;
        }
        
        if (input.type === 'email' && !isValidEmail(input.value)) {
            input.focus();
            showToast('Please enter a valid email address', 'error');
            return false;
        }
        
        if (input.id === 'password-confirm') {
            const password = document.getElementById('password').value;
            if (input.value !== password) {
                input.focus();
                showToast('Passwords do not match', 'error');
                return false;
            }
        }
    }
    
    return true;
}

function saveStepData(step) {
    const stepElement = document.querySelector(`#step-${step}`);
    const inputs = stepElement.querySelectorAll('input');
    
    inputs.forEach(input => {
        if (input.type === 'checkbox') {
            formData[input.name] = input.checked;
        } else {
            formData[input.name] = input.value;
        }
    });
}

function isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

async function submitRegistration() {
    // Validate final step
    if (!validateStep(3)) {
        return;
    }
    
    // Save final step data
    saveStepData(3);
    
    try {
        // Execute reCAPTCHA v3
        const token = await grecaptcha.execute('YOUR_RECAPTCHA_SITE_KEY', { action: 'register' });
        formData.recaptcha_token = token;
        
        // Submit to backend
        const response = await fetch('/api/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        });
        
        if (response.ok) {
            // Show success step
            nextStep(4);
        } else {
            const error = await response.json();
            showToast(error.message || 'Registration failed. Please try again.', 'error');
        }
    } catch (error) {
        console.error('Registration error:', error);
        showToast('An error occurred. Please try again or contact us for assistance.', 'error');
    }
}
</script>
</body>
</html>
